services:
  etcd:
    image: gcr.io/etcd-development/etcd:v3.6.5
    environment:
      ETCD_LISTEN_CLIENT_URLS: "http://0.0.0.0:2379"
      ETCD_ADVERTISE_CLIENT_URLS: "http://0.0.0.0:2379"
    ports:
      - "2379:2379"

  redis:
    image: redis:8.2
    ports:
      - "6379:6379"

  redis-cluster:
    image: grokzen/redis-cluster:7.0.10
    environment:
      IP: "0.0.0.0"
      INITIAL_PORT: 11000
    ports:
      - "11000-11005:11000-11005"

  memcached:
    image: memcached:1.6
    ports:
      - "11211:11211"

  consul:
    image: hashicorp/consul:1.21
    ports:
      - "8500:8500"

  zookeeper:
    image: zookeeper:3.9
    ports:
      - "2181:2181"

  dynamodb-local:
    image: "amazon/dynamodb-local:latest"
    command: "-jar DynamoDBLocal.jar -inMemory"
    ports:
      - "8000:8000"

  postgresql:
    image: postgres:18
    environment:
      POSTGRES_PASSWORD: postgres
    ports:
      - "5432:5432"

  cosmos:
    image: mcr.microsoft.com/cosmosdb/linux/azure-cosmos-emulator:vnext-preview
    command: [ "--protocol", "http" ]
    environment:
      PROTOCOL: http
      COSMOS_HTTP_CONNECTION_WITHOUT_TLS_ALLOWED: "true"
    ports:
      - "8081:8081"
